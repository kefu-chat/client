{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../App.svelte",
    "../MessageInput.svelte",
    "../ScrollToBottom.svelte",
    "../Input.svelte",
    "../Nav.svelte",
    "../Page.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import io from 'socket.io-client';\n  import Nav from \"./ui/Nav.svelte\";\n  import Page from \"./ui/Page.svelte\";\n  import request from \"./request\";\n  import Echo from \"laravel-echo\";\n  import { beforeUpdate, afterUpdate, onMount, onDestroy } from \"svelte\";\n  import { user } from \"./stores.js\";\n  import ScrollToBottom from \"./ScrollToBottom.svelte\";\n  import MessageInput from \"./MessageInput.svelte\";\n  import Spinner from \"./ui/Spinner.svelte\";\n\n  import { createEventDispatcher } from \"svelte\";\n  import { fade, fly } from \"svelte/transition\";\n  import { quintOut } from \"svelte/easing\";\n  import { crossfade } from \"svelte/transition\";\n  import { toHSL } from \"./toHSL.js\";\n  import format from \"date-fns/format\";\n\n  export let visitor = null;\n  export let _data = null;\n  export let _user = null;\n  export let _chats = [];\n  export let textareaClass = \"\";\n\n  let echo;\n  let socket;\n  let store = {};\n  let autoscroll;\n  let showScrollToBottom;\n  let main;\n  let isLoading = false;\n  let typing = false;\n  let typingUser = null;\n  let timeout;\n  const ADD_ON_SCROLL = 50; // messages to add when scrolling to the top\n  let showMessages = 100; // initial messages to load\n\n  window.io = io;\n\n  export let init = async function(reopen = false) {\n    // $nav = \"messages\";\n    const { data } = await request({\n      url: `api/visitor/init`,\n      method: \"POST\",\n      data: {\n        ...document.parameters,\n        // institution_id: window.parameters.institution_id, //\"rxpXD6uDD0EJqvbD\",\n        // unique_id: window.parameters.unique_id, //parseInt(Math.random()*9999999).toString(),\n        // userAgent: window.parameters.userAgent, //navigator.userAgent,\n        // languages: window.parameters.languages, //navigator.languages,\n        // url: window.parameters.url, //location.href,\n        // title: window.parameters.title, //document.title,\n        // name: window.parameters.name, //\"visitor001\",\n        // referer: window.parameters.referer,\n        reopen,\n      },\n    });\n    const visitor_token = data.visitor_token;\n    const conversation_id = data.conversation.id;\n    visitor = data.conversation.visitor;\n    localStorage.setItem(\"visitor_token\", visitor_token);\n    localStorage.setItem(\"conversation_id\", conversation_id);\n    _data = data;\n\n    if (conversation_id) {\n      setTimeout(async () => {\n        const channel = `conversation.${conversation_id}`;\n        echo = new Echo({\n          broadcaster: \"socket.io\",\n          host: \"http://dev.fastsupport.cn:6001/\",\n          auth: {\n            headers: {\n              Authorization: `Bearer ${visitor_token}`,\n            },\n          },\n        });\n\n        const { data } = await request({\n          url: `api/conversation/${conversation_id}/messages`,\n          method: \"GET\",\n        });\n        _chats = data.messages;\n        _user = data.conversation.user;\n        if (!data.conversation.status) {\n          textareaClass = 'disabled';\n        } else {\n          textareaClass = '';\n        }\n\n        socket = echo\n          .join(channel)\n          //.here()\n          //.joining((user) => (_user = user))\n          //.leaving((user) => {})\n          .listen(\".conversation.terminated\", (msg) => {\n            textareaClass = 'disabled';\n            _chats.push(msg);\n            if (msg.sender_type_text == \"user\") {\n              window.parent.postMessage({action: 'showNotification', msg})\n            }\n          })\n          .listenForWhisper(\"message\", (msg) => {\n            _chats.push(msg);\n            if (msg.sender_type_text == \"user\") {\n              window.parent.postMessage({action: 'showNotification', msg})\n            }\n          })\n          .listenForWhisper('startTyping', (evt) => {\n            typing = true;\n            typingUser = evt;\n          })\n          .listenForWhisper('stopTyping', (evt) => {\n            typing = false;\n          });\n\n        //startTyping()\n      }, 1000);\n    }\n  };\n\n  onMount(init);\n\n  $: {\n    // debounce update svelte store to avoid overloading ui\n    timeout = setTimeout(() => {\n      //  // convert key/value object to sorted array of messages (with a max length)\n      //  // const arr = Object.values(store);\n      //  // const sorted = arr.sort((a, b) => a.time - b.time);\n      //  // const begin = Math.max(0, sorted.length - showMessages);\n      //  // const end = arr.length;\n      _chats = _chats;\n      isLoading = false;\n    }, 200);\n\n    visitor;\n    socket;\n    _chats;\n    textareaClass;\n    init;\n  }\n\n  function startTyping(evt) {\n    socket.whisper('startTyping', {\n        name: 'test' //this.user.name,\n    })\n  }\n\n  function stopTyping(evt) {\n    socket.whisper('stopTyping', {\n        name: this.user.name,\n    })\n  }\n\n  function scrollToBottom() {\n    main.scrollTo({ left: 0, top: main.scrollHeight });\n  }\n\n  function handleScroll(e) {\n    showScrollToBottom =\n      main.scrollHeight - main.offsetHeight > main.scrollTop + 300;\n    if (!isLoading && main.scrollTop <= main.scrollHeight / 10) {\n      const totalMessages = Object.keys(store).length - 1;\n      if (showMessages >= totalMessages) return;\n      isLoading = true;\n      setTimeout(() => {\n        showMessages += ADD_ON_SCROLL;\n        if (main.scrollTop === 0) main.scrollTop = 1;\n        isLoading = false;\n      }, 200);\n    }\n  }\n\n  const [send, receive] = crossfade({\n    duration: (d) => Math.sqrt(d * 200),\n\n    fallback(node, params) {\n      const style = getComputedStyle(node);\n      const transform = style.transform === \"none\" ? \"\" : style.transform;\n\n      return {\n        duration: 600,\n        easing: quintOut,\n        css: (t) => `\n          transform: ${transform} scale(${t});\n          opacity: ${t}\n  \t\t\t`,\n      };\n    },\n  });\n\n  function handleNewMessage(msg) {\n    const now = new Date().getTime();\n    const message = { msg, user: $user, time: now };\n  }\n\n  beforeUpdate(() => {\n    autoscroll =\n      main && main.offsetHeight + main.scrollTop > main.scrollHeight - 50;\n  });\n\n  afterUpdate(() => {\n    if (autoscroll) main.scrollTo(0, main.scrollHeight);\n  });\n\n  onDestroy(() => {\n    // remove gun listeners\n    clearTimeout(timeout);\n  });\n</script>\n\n<style>\n  article {\n    margin: 0 0;\n  }\n  .meta {\n    font-size: 10px;\n    margin: 0.5em;\n  }\n\n  .msg {\n    display: inline-block;\n    position: relative;\n    line-height: 1.8;\n    padding: 0.4em 1em;\n    background-color: #eee;\n    border-radius: 11px;\n\n    /* This makes sure returns are also rendered */\n    white-space: pre-wrap;\n\n    /* The trouble you have to go through to keep simple text inside a div! 😆 */\n    /* Source: https://css-tricks.com/snippets/css/prevent-long-urls-from-breaking-out-of-container/ */\n\n    /* These are technically the same, but use both */\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n\n    -ms-word-break: break-all;\n    /* This is the dangerous one in WebKit, as it breaks things wherever */\n    word-break: break-all;\n    /* Instead use this non-standard one: */\n    word-break: break-word;\n    color: #222d38;\n    vertical-align: middle;\n    max-width: calc(100% - 80px);\n  }\n  .msg.msg-image {\n    padding: 0;\n    border: 0;\n    margin: 0;\n  }\n\n  .visitor {\n    text-align: right;\n  }\n\n  .user {\n    color: #9fabb7;\n    margin-left: 40px;\n  }\n\n  .avatar {\n    width: 32px;\n    height: 32px;\n    display: inline-block;\n    vertical-align: top;\n    margin-right: 2px;\n    margin-top: 4px;\n  }\n\n  .avatar img {\n    border-radius: 16px;\n    width: 32px;\n    height: 32px;\n  }\n\n  .message-container {\n    display: inline-block;\n    vertical-align: middle;\n    width: 100%;\n  }\n\n  main {\n    margin: auto 0 100px 0;\n    padding: 0.5em 1em 0.5em 1em;\n    overflow-y: auto;\n  }\n  .assistant-info {\n    padding: 14px;\n  }\n  .assistant-info .assistant-avatar,\n  .assistant-info .assistant-text {\n    display: inline-block;\n    vertical-align: middle;\n  }\n  .assistant-info .assistant-avatar {\n    width: 40px;\n    height: 40px;\n    float: none;\n    border-radius: 20px !important;\n    background-repeat: no-repeat;\n    background-size: contain;\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='36' height='36'%3E%3Cdefs%3E%3Ccircle id='a' cx='18' cy='18' r='18'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cmask id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3C/mask%3E%3Cuse fill='%23FFF' opacity='.12' xlink:href='%23a'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M27.588 29.805h-1.891a3.783 3.783 0 01-3.783-3.783v-1.215c.837-.995 1.437-2.171 1.81-3.414.039-.21.24-.313.375-.457.724-.725.866-1.946.323-2.816-.074-.132-.207-.247-.2-.41 0-1.11.006-2.22-.001-3.329-.03-1.338-.412-2.73-1.35-3.72-.758-.801-1.798-1.278-2.87-1.482-1.357-.259-2.775-.246-4.118.096-1.163.294-2.257.975-2.933 1.986-.598.878-.86 1.945-.905 2.996-.017 1.128-.004 2.26-.007 3.39.025.227-.167.38-.253.568-.512.928-.287 2.192.535 2.867.209.144.248.407.324.633a9.148 9.148 0 001.704 3.051v1.256a3.783 3.783 0 01-3.782 3.783H8.674S5.246 30.751 3 35.479v1.892a1.89 1.89 0 001.891 1.89h26.48a1.89 1.89 0 001.891-1.89v-1.892c-2.246-4.728-5.674-5.674-5.674-5.674z' mask='url(%23b)' opacity='.18'/%3E%3C/g%3E%3C/svg%3E\");\n  }\n  .assistant-info .assistant-text {\n    margin-left: 12px;\n    font-weight: 300;\n  }\n  .text-size-15 {\n    font-size: 15px;\n  }\n  .text-size-13 {\n    font-size: 15px;\n  }\n  .text-white {\n    color: #fff;\n  }\n  .text-white-50 {\n    color: rgba(255, 255, 255, 0.5);\n  }\n</style>\n\n<Page>\n  {#if _data}\n    <Nav>\n      <div class=\"assistant-info\">\n        {#if _user}\n          <div class=\"assistant-avatar\" />\n          <div class=\"assistant-text\">\n            <div class=\"text-white text-size-15\">{_user.name}</div>\n            {#if _user.title && _user.title.trim()}\n              <div class=\"text-white-50 text-size-13\">{_user.title}</div>\n            {/if}\n          </div>\n        {/if}\n        {#if !_user}\n          <div class=\"assistant-text\">\n            <div class=\"text-white text-size-15\">\n              开始聊天将自动为您分配客服\n            </div>\n            <div class=\"text-white-50 text-size-13\">客服当前在线</div>\n          </div>\n        {/if}\n      </div>\n    </Nav>\n\n    <main bind:this={main} on:scroll={handleScroll}>\n      {#if isLoading}\n        <Spinner />\n      {/if}\n      {#each _chats as chat (chat.id)}\n        <article class:visitor={chat.sender_type_text === 'visitor'}>\n          <div class=\"message-container\">\n            <div class=\"meta\">\n              <!--\n            <span class=\"time\">\n              {format(new Date(chat.created_at), 'yyyy-MM-dd HH:mm:ss')}\n            </span>\n            -->\n              {#if chat.sender_type_text === 'user'}\n                <span class=\"user\">{chat.sender.name}</span>\n              {/if}\n            </div>\n            <div>\n              {#if chat.sender_type_text === 'user'}\n                <div class=\"avatar\">\n                  <img src={chat.sender.avatar} alt=\"\" />\n                </div>\n              {/if}\n              {#if chat.type == 1}\n                <div\n                  class=\"msg\"\n                  style=\"background-color: {chat.user !== $user && toHSL(chat.user)}\">\n                  {chat.content}\n                </div>\n              {/if}\n              {#if chat.type == 2}\n                <img src={chat.content} class=\"msg msg-image\" alt=\"\" />\n              {/if}\n            </div>\n          </div>\n        </article>\n      {/each}\n\n      {#if typing}\n      <article class=\"svelte-1wx9mm9\">\n        <div class=\"message-container svelte-1wx9mm9\">\n          <div class=\"meta svelte-1wx9mm9\">\n            <span class=\"user svelte-1wx9mm9\">{typingUser.name}</span>\n          </div>\n          <div>\n            <div class=\"avatar svelte-1wx9mm9\">\n              <img src={typingUser.avatar} alt=\"\" class=\"svelte-1wx9mm9\">\n            </div>\n            <div class=\"msg\" style=\"padding: 0\">\n              <svg xml:space=\"preserve\" viewBox=\"0 0 100 100\" y=\"0\" x=\"0\" xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer_1\" version=\"1.1\" style=\"height: 60px; width: 70px; background: none; shape-rendering: auto; margin: -6px 0 -23px 0;\">\n                <g class=\"ldl-scale\" style=\"transform-origin: 50% 50%; transform: rotate(0deg) scale(0.6, 0.6);\">\n                  <g class=\"ldl-ani\">\n                    <g class=\"ldl-layer\">\n                      <g class=\"ldl-ani\" style=\"transform-origin: 50px 50px; transform: matrix(1, 0, 0, 1, 0, 0); animation: 1.23457s linear -0.823045s infinite normal forwards running bounce-8f\">\n                        <circle fill=\"#666666\" r=\"10\" cy=\"50\" cx=\"20\"></circle>\n                      </g>\n                    </g>\n                    <g class=\"ldl-layer\">\n                      <g class=\"ldl-ani\" style=\"transform-origin: 50px 50px; transform: matrix(1, 0, 0, 1, 0, 0); animation: 1.23457s linear -1.02881s infinite normal forwards running bounce-8f\">\n                        <circle fill=\"#999999\" r=\"10\" cy=\"50\" cx=\"50\"></circle>\n                      </g>\n                    </g>\n                    <g class=\"ldl-layer\">\n                      <g class=\"ldl-ani\" style=\"transform-origin: 50px 50px; transform: matrix(1, 0, 0, 1, 0, 0); animation: 1.23457s linear -1.23457s infinite normal forwards running bounce-8f\">\n                        <circle fill=\"#cccccc\" r=\"10\" cy=\"50\" cx=\"80\"></circle>\n                      </g>\n                    </g>\n                  </g>\n                </g>\n                <style id=\"bounce-8f\">\n                @keyframes bounce-8f{\n                  0% {\n                    animation-timing-function: cubic-bezier(0.1361,0.2514,0.2175,0.8786);\n                    transform: translate(0,0px) scaleY(1);\n                  }\n                  37% {\n                    animation-timing-function: cubic-bezier(0.7674,0.1844,0.8382,0.7157);\n                    transform: translate(0,-20px) scaleY(1);\n                  }\n                  72% {\n                    animation-timing-function: cubic-bezier(0.1118,0.2149,0.2172,0.941);\n                    transform: translate(0,0px) scaleY(1);\n                  }\n                  87% {\n                    animation-timing-function: cubic-bezier(0.7494,0.2259,0.8209,0.6963);\n                    transform: translate(0,10px) scaleY(0.602);\n                  }\n                  100% {\n                    transform: translate(0,0px) scaleY(1);\n                  }\n                }\n                </style>\n              </svg>\n            </div>\n          </div>\n        </div>\n      </article>\n      {/if}\n    </main>\n\n    <MessageInput\n      {textareaClass}\n      {visitor}\n      {socket}\n      {init}\n      {_chats}\n      on:message={(e) => {\n        console.log(e)\n        handleNewMessage(e.detail);\n        scrollToBottom();\n      }} />\n\n    {#if showScrollToBottom}\n      <ScrollToBottom onScroll={scrollToBottom} />\n    {/if}\n  {/if}\n</Page>\n",
    "<script>\n  import Input from \"./ui/Input.svelte\";\n  import request from \"./request\";\n  export let visitor;\n  export let socket;\n  export let _chats;\n  export let textareaClass;\n  export let init;\n  let msgInput;\n\n  function reinit () {\n    init(true)\n  }\n\n  function whisper(message) {\n    socket.whisper(\"message\", message);\n  }\n\n  function sendMessage() {\n    const id = localStorage.getItem(\"conversation_id\");\n    const msg = msgInput;\n    if (id) {\n      request({\n        url: `api/conversation/${id}/send-message`,\n        method: \"POST\",\n        data: { type: 1, content: msg },\n      }).then(({success, data}) => {\n        if (!success) {\n          return;\n        }\n\n        const message = {\n          type: 1,\n          content: msg,\n          id: parseInt((Math.random()*9999999).toString()).toString(),\n          sender_id: visitor.id,\n          sender_type: 'App\\\\Models\\\\Visitor',\n          sender_type_text: 'visitor',\n          sender: visitor,\n          created_at: (new Date()).toISOString(),\n          updated_at: (new Date()).toISOString(),\n        };\n\n        whisper(message);\n        _chats.push(message);\n      });\n    }\n  }\n\n  $: {\n    socket;\n  }\n</script>\n\n<style>\n  div {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n  }\n\n  form.msg-send-form {\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    max-width: 640px;\n    background-color: white;\n    padding: 0.25em 1em;\n    border-top: 1px solid #d8dee3;\n  }\n\n  .disabled, .disabled form {\n    background-color: #eee;\n    height: 94px;\n    padding: 15px;\n    border-top: 1px solid #ccc;\n  }\n\n  .disabled .tips {\n    font-size: 14px;\n    position: relative;\n  }\n</style>\n\n<div class=\"{textareaClass}\">\n  {#if textareaClass !='disabled'}\n    <form\n      class=\"msg-send-form\"\n      autocomplete=\"off\"\n      on:submit|preventDefault={(e) => {\n        if (!msgInput || !msgInput.trim()) return;\n        sendMessage();\n        msgInput = '';\n        e.target.msg.focus();\n      }}>\n      <Input\n        multiline\n        maxRows={3}\n        bind:value={msgInput}\n        name=\"msg\"\n        placeholder=\"输入您的消息\"\n        ariaLabel=\"输入您的消息\"\n        {socket}\n        />\n    </form>\n  {/if}\n  {#if textareaClass == 'disabled'}\n    <div class=\"tips\">本次服务已结束, 若您仍有需要咨询的问题, 欢迎再次<span role=\"link\" on:click={(e) => reinit()}>发起咨询</span>.</div>\n  {/if}\n</div>\n",
    "<script>\n  import { fly } from \"svelte/transition\";\n  export let onScroll;\n</script>\n\n<div out:fly={{ x: 20, duration: 200 }} in:fly={{ x: 20, duration: 200 }}>\n  <button on:click|preventDefault={onScroll}>↓</button>\n</div>\n\n<style>\n  div {\n    position: fixed;\n    bottom: 7em;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    max-width: 640px;\n  }\n\n  button {\n    margin-right: 1em;\n    text-align: center;\n    padding: 0.75em;\n    color: white;\n    font-size: 18px;\n    line-height: 1;\n    border: none;\n    border-radius: 50%;\n    background-color: #555555;\n    opacity: 0.9;\n    width: 45px;\n    height: 45px;\n  }\n</style>\n",
    "<script>\n  import { fade } from \"svelte/transition\";\n  import { createEventDispatcher } from \"svelte\";\n\n  export let ariaLabelledBy = null;\n  export let ariaLabel = null;\n  export let placeholder = null;\n  export let value = \"\";\n  export let name = null;\n  export let maxLength = 160;\n  export let maxRows = 1;\n  export let multiline = false;\n  export let socket = null;\n\n  // TODO: kinda hacky, on desktop it's more that 40, but calculating chars per line is hard\n  // FIX: something along the lines of this: https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/TextareaAutosize/TextareaAutosize.js\n  const CHARS_PER_LINE = 40;\n\n  function calcRows(v) {\n    let textRows = Math.floor(v.length / CHARS_PER_LINE) + 1;\n    const numberOfReturns = (v.match(/\\n/g) || []).length;\n    textRows += numberOfReturns;\n    return Math.min(maxRows, textRows);\n  }\n\n  $: rows = Math.max(2, calcRows(value));\n\n  function startTyping() {\n    socket.whisper('startTyping', {\n      content: value,\n    })\n  }\n\n  function stopTyping() {\n    socket.whisper('stopTyping', {\n    })\n  }\n\n  function focus() {\n    if (value) {\n      startTyping()\n    }\n  }\n\n  function handleKeyPress(e) {\n    if (e.which === 13 && !e.shiftKey) {\n      // simulate actual submit event when user pressed return\n      // but not on 'soft return'\n      e.target.form.dispatchEvent(\n        new Event(\"submit\", {\n          cancelable: true,\n        })\n      );\n      e.preventDefault();\n\n      stopTyping()\n    } else {\n\n      const o = this\n      setTimeout(startTyping, 10);\n    }\n  }\n</script>\n\n<style>\n  .input-with-button {\n    position: relative;\n  }\n\n  .input {\n    padding: 0.6em 0 0.6em 0;\n    width: 100%;\n    resize: none;\n    /* fix for firefox showing two rows, see: \n        https://stackoverflow.com/questions/7695945/height-of-textarea-does-not-match-the-rows-in-firefox */\n    overflow-x: hidden;\n    border: 0;\n    background-color: transparent;\n    background: transparent;\n  }\n\n  .input:disabled {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAIklEQVQIW2NkQAKrVq36zwjjgzhhYWGMYAEYB8RmROaABADeOQ8CXl/xfgAAAABJRU5ErkJggg==)\n      repeat;\n    cursor: not-allowed;\n  }\n\n  .input:focus {\n    outline: none;\n  }\n\n  .submit {\n    position: absolute;\n    top: 0.4em;\n    right: 0em;\n    width: 34px;\n    height: 34px;\n    background: no-repeat 50% 50% url(/up.svg);\n    background-size: 0.75em;\n    border: none;\n    border-radius: 50%;\n    background-color: #0074d9;\n    text-indent: -9999px;\n    cursor: pointer;\n  }\n  .btn-emoji, .btn-file {\n    width: 24px;\n    height: 24px;\n    display: inline-block;\n  }\n  .btn-emoji {\n    background-image: url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20transform%3D%22translate(3%204)%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%228.5%22%20cy%3D%228.5%22%20r%3D%229.3%22%20stroke%3D%22%23a3aab5%22%20stroke-width%3D%221.6%22%2F%3E%0A%20%20%20%20%3Ccircle%20cx%3D%225.375%22%20cy%3D%226.375%22%20r%3D%221.375%22%20fill%3D%22%23a3aab5%22%2F%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2211.875%22%20cy%3D%226.375%22%20r%3D%221.375%22%20fill%3D%22%23a3aab5%22%20transform%3D%22matrix(-1%200%200%201%2023.75%200)%22%2F%3E%0A%20%20%20%20%3Cpath%20stroke%3D%22%23a3aab5%22%20stroke-linecap%3D%22round%22%20stroke-width%3D%221.6%22%20d%3D%22M4.25%2010.5S4.5%2013%208.5%2013s4.25-2.5%204.25-2.5%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E');\n  }\n  .btn-file {\n    background-image: url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23a3aab5%22%20fill-rule%3D%22nonzero%22%20d%3D%22M16.5%208v9.5c0%202.21-1.79%204-4%204s-4-1.79-4-4V7a2.5%202.5%200%200%201%205%200v8.5c0%20.55-.45%201-1%201s-1-.45-1-1V8H10v7.5a2.5%202.5%200%200%200%205%200V7c0-2.21-1.79-4-4-4S7%204.79%207%207v10.5c0%203.04%202.46%205.5%205.5%205.5s5.5-2.46%205.5-5.5V8h-1.5z%22%2F%3E%0A%3C%2Fsvg%3E%0A');\n  }\n</style>\n\n<div class=\"input-with-button\">\n  {#if multiline}\n    <textarea\n      {rows}\n      class=\"input\"\n      type=\"text\"\n      {maxLength}\n      {name}\n      bind:value\n      on:keypress={handleKeyPress}\n      on:blur={stopTyping}\n      on:focus={focus}\n      aria-labelledby={ariaLabelledBy}\n      aria-label={ariaLabel}\n      {placeholder} />\n  {:else}\n    <input\n      {rows}\n      class=\"input\"\n      type=\"text\"\n      {maxLength}\n      {name}\n      bind:value\n      aria-labelledby={ariaLabelledBy}\n      aria-label={ariaLabel}\n      {placeholder} />\n  {/if}\n  <input class=\"submit\" type=\"submit\" value=\"Send\" in:fade out:fade />\n</div>\n\n<div>\n  <div class=\"btn-emoji\" />\n  <div class=\"btn-file\" />\n</div>",
    "<script>\n  import { createEventDispatcher } from \"svelte\";\n  export let showBack = false;\n  export let backText = null;\n  const dispatch = createEventDispatcher();\n  export let theme = 'theme-' + (document.parameters.theme || 'default');\n</script>\n\n<nav class=\"{theme}\">\n  {#if showBack}\n    <button on:click={() => dispatch('back')}>\n      <svg\n        height=\"40\"\n        width=\"40\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path\n          fill=\"currentColor\"\n          d=\"M13.7 15.3a1 1 0 0 1-1.4 1.4l-4-4a1 1 0 0 1 0-1.4l4-4a1 1 0 0 1 1.4\n          1.4L10.42 12l3.3 3.3z\"\n        />\n      </svg>\n      {#if backText}\n        <span>{backText}</span>\n      {/if}\n    </button>\n  {/if}\n  <div>\n    <slot />\n  </div>\n  <div class=\"dot\"/>\n</nav>\n\n<style>\n  nav {\n    position: -webkit-sticky;\n    position: sticky;\n    z-index: 10;\n    top: 0;\n    margin: 0;\n    display: flex;\n    color: #fff;\n    height: 70px;\n  }\n  nav .dot {\n    background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDMyIDQwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxOEMxMzkiIGQ9Ik05IDBjMy41ODEuMDUgMjMgNS40MjYgMjMgMzMuMDh2LjAzQzE4LjkyMiAzMC43NTEgOSAxOS4zMTEgOSA1LjU1NFYweiIvPjwvZz48L3N2Zz4=\") no-repeat no-repeat;\n    width: 32px;\n    height: 40px;\n    position: absolute;\n    right: 0;\n  }\n  button {\n    display: flex;\n    position: absolute;\n    left: 0.5em;\n    top: 0.37em;\n    border: none;\n    background-color: white;\n    align-items: center;\n    padding: 0;\n    color: #0074d9;\n  }\n  button:hover {\n    transition: 0.75s cubic-bezier(0, 1.2, 0.2, 1.5);\n    transform: scale(1.1);\n  }\n\n  span {\n    margin: 0 0 0 -1em;\n    font-size: 0.8em;\n  }\n</style>\n",
    "<script>\n  import { fade } from \"svelte/transition\";\n</script>\n\n<div class=\"animation\" in:fade out:fade>\n  <div class=\"container\">\n    <slot />\n  </div>\n</div>\n\n<style>\n  .animation {\n    position: absolute;\n    height: 100%;\n    width: 100vw;\n  }\n  .container {\n    height: 100%;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    max-width: 640px;\n    background-color: white;\n  }\n</style>\n"
  ],
  "names": [],
  "mappings": "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"
}