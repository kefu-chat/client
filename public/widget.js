!function(n){var o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,n){void 0===(t=function(){"use strict";var o={chat:{init:function(e){var t=window._kefuchat_init;if(t&&"function"==typeof t){var n,o=t();for(n in o){if(null!=[o]&&"string"!=typeof o[n]&&"number"!=typeof o[n])throw n+" must a string";e[n]=o[n]}}function i(e){var t=document.createElement("div");return t.className=e,t}e.unique_id||(localStorage?(localStorage.kefuchat_unique_id||(localStorage.kefuchat_unique_id=parseInt((99999*Math.random()).toString())),e.unique_id=localStorage.kefuchat_unique_id):(document.cookie.match(/kefuchat_unique_id\=(^[;])/)||(document.cookie="kefuchat_unique_id="+parseInt((99999*Math.random()).toString())),e.unique_id=document.cookie.match(/kefuchat_unique_id\=(^[;])/)[1])),e.name||(e.name="访客"+e.unique_id),window.openKefuchat=function(){document.querySelector(".kefuchat-opener").style.display="none",document.querySelector(".kefuchat-chat").style.display="block"},window.closeKefuchat=function(){document.querySelector(".kefuchat-chat").style.display="none",document.querySelector(".kefuchat-opener").style.display="block"};var a=i("kefuchat"),u=i("kefuchat-chat"),r=i("kefuchat-close"),c=i("kefuchat-opener"),d=i("kefuchat-kfdesc"),l=i("kefuchat-logo"),f=i("kefuchat-badge"),t=document.createElement("iframe");d.innerText="客服在线, 来咨询吧",t.className="kefuchat-iframe",t.src=e.chat_origin+"?institution_id="+e.institution_id+"&unique_id="+e.unique_id+"&userAgent="+encodeURIComponent(e.userAgent)+"&languages[]="+e.language+"&url="+encodeURIComponent(e.url)+"&name="+encodeURIComponent(e.name)+"&referer="+encodeURIComponent(e.referer),c.style.display="none",u.style.display="none",u.appendChild(r),u.appendChild(t),c.appendChild(d),c.appendChild(l),c.appendChild(f),a.appendChild(c),a.appendChild(u),document.body.appendChild(a),(a=document.createElement("link")).href=e.asset_origin+"/widget.css",a.rel="stylesheet",a.onload=function(){document.querySelector(".kefuchat-opener").style.display="block","function"==typeof window.onloadKefuchat&&window.onloadKefuchat()},document.head.appendChild(a),document.querySelector(".kefuchat-opener").addEventListener("click",window.openKefuchat),document.querySelector(".kefuchat-close").addEventListener("click",window.closeKefuchat),window.addEventListener("message",function(i){console.log(i),"showNotification"==i.data.action&&new Promise(function(t,e){var n=Notification.requestPermission(function(e){t(e)});n&&n.then(t,e)}).then(function(){var e=i.data.msg,t=void 0,n=void 0;1==e.type&&(t=e.content),2==e.type&&(t="[图片消息]",n=e.content);var o=new Notification("您收到新消息",{body:t,image:n,vibrate:1});o.onclick=function(){var e=window;e.focus(),e.openKefuchat(),setTimeout(function(){o.close()},200)}})},!1)},load:function(){var e={chat_origin:"http://dev.fastsupport.cn:5000/",asset_origin:"http://dev.fastsupport.cn:5000/",userAgent:navigator.userAgent,language:navigator.language,url:location.href,title:document.title,name:null,referer:document.referrer,unique_id:null};o.chat.init(e)},update:function(e){var t,n={chat_origin:"http://dev.fastsupport.cn:5000/",asset_origin:"http://dev.fastsupport.cn:5000/",userAgent:navigator.userAgent,language:navigator.language,url:location.href,title:document.title,name:null,referer:document.referrer,unique_id:null};for(t in e)n[t]=e[t];o.chat.init(n)}}};o.chat.load()}.apply(t,[]))||(e.exports=t)}]);